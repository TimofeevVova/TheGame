@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}

<div class="container" style="max-width: 60%;">
    <div class="row">
        <!-- Левая часть: Аватар -->
        <div class="col-md-6">
            <figure class="figure">
                <img src="@ViewBag.UserIcon"
                     class="figure-img img-fluid rounded"
                     alt="None картинка">
            </figure>
            <button type="button" class="btn btn-link">Изменить аватар</button>
        </div>

        <!-- Правая часть: Информация -->
        <div class="col-md-6 d-flex align-items-center">
            <ul class="list-group">
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    <span class="data-label">Имя:</span>
                    <span class="data-value">@ViewBag.UserName</span>
                    <button class="btn btn-sm btn-primary edit-btn" onclick="editData(this, 'Имя')">Изменить</button>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    <span class="data-label">Почта:</span>
                    <span class="data-value">@ViewBag.UserEmail</span>
                    <button class="btn btn-sm btn-primary edit-btn" onclick="editData(this, 'Почта')">Изменить</button>
                </li>
            </ul>
        </div>
    </div>
</div>
<script>
        function editData(button, label) {
        const listItem = button.closest('.list-group-item');
        const dataValue = listItem.querySelector('.data-value');

        if (button.textContent === 'Изменить') {
            // Сохраняем текущее значение и превращаем его в поле ввода
            const currentValue = dataValue.textContent;
            dataValue.innerHTML = `<input type="text" class="form-control form-control-sm" value="${currentValue}">`;

            // Меняем текст кнопки
            button.textContent = 'Сохранить';
            button.classList.remove('btn-primary');
            button.classList.add('btn-success');
        } else {
            // Получаем новое значение из поля ввода
            const inputField = dataValue.querySelector('input');
            const newValue = inputField.value;

            // Возвращаем значение как текст
            dataValue.textContent = newValue;

            // Меняем текст кнопки обратно
            button.textContent = 'Изменить';
            button.classList.remove('btn-success');
            button.classList.add('btn-primary');
        }
    }

</script>